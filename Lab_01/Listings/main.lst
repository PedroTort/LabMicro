


ARM Macro Assembler    Page 1 


    1 00000000         ; main.s
    2 00000000         ; Desenvolvido para a placa EK-TM4C1294XL
    3 00000000         ; Prof. Guilherme Peron
    4 00000000         ; Ver 1 19/03/2018
    5 00000000         ; Ver 2 26/08/2018
    6 00000000         ; Este programa deve esperar o usuário pressionar uma ch
                       ave.
    7 00000000         ; Caso o usuário pressione uma chave, um LED deve piscar
                        a cada 1 segundo.
    8 00000000         
    9 00000000         ; ------------------------------------------------------
                       -------------------------
   10 00000000                 THUMB                        ; Instruções do tip
                                                            o Thumb-2
   11 00000000         ; ------------------------------------------------------
                       -------------------------
   12 00000000         
   13 00000000         ; Declarações EQU - Defines
   14 00000000         ;<NOME>         EQU <VALOR>
   15 00000000         ; ========================
   16 00000000         ; Definições de Valores
   17 00000000         
   18 00000000         
   19 00000000         ; ------------------------------------------------------
                       -------------------------
   20 00000000         ; Área de Dados - Declarações de variáveis
   21 00000000                 AREA             DATA, ALIGN=2
   22 00000000         ; Se alguma variável for chamada em outro arquivo
   23 00000000         ;EXPORT  <var> [DATA,SIZE=<tam>]   ; Permite chamar a va
                       riável <var> a 
   24 00000000         ; partir de outro arquivo
   25 00000000         ;<var> SPACE <tam>                        ; Declara uma 
                       variável de nome <var>
   26 00000000         ; de <tam> bytes a partir da primeira 
   27 00000000         ; posição da RAM  
   28 00000000         
   29 00000000         ; ------------------------------------------------------
                       -------------------------
   30 00000000         ; Área de Código - Tudo abaixo da diretiva a seguir será
                        armazenado na memória de 
   31 00000000         ;                  código
   32 00000000                 AREA             |.text|, CODE, READONLY, ALIGN=
2
   33 00000000         
   34 00000000         ; Se alguma função do arquivo for chamada em outro arqui
                       vo 
   35 00000000                 EXPORT           Start       ; Permite chamar a 
                                                            função Start a part
                                                            ir de 
   36 00000000         ; outro arquivo. No caso startup.s
   37 00000000         
   38 00000000         ; Se chamar alguma função externa 
   39 00000000         ;IMPORT <func>              ; Permite chamar dentro dest
                       e arquivo uma 
   40 00000000         ; função <func>
   41 00000000                 IMPORT           PLL_Init
   42 00000000                 IMPORT           SysTick_Init
   43 00000000                 IMPORT           SysTick_Wait1ms
   44 00000000                 IMPORT           GPIO_Init



ARM Macro Assembler    Page 2 


   45 00000000                 IMPORT           PortA_Output
   46 00000000                 IMPORT           PortB_Output
   47 00000000                 IMPORT           PortP_Output
   48 00000000                 IMPORT           PortQ_Output
   49 00000000                 IMPORT           PortJ_Input
   50 00000000         
   51 00000000 20000400 
                       lista_multiplicadores
                               EQU              0x20000400
   52 00000000         
   53 00000000         ; ------------------------------------------------------
                       -------------------------
   54 00000000         ; Função main()
   55 00000000         Start
   56 00000000 F7FF FFFE       BL               PLL_Init    ;Chama a subrotina 
                                                            para alterar o cloc
                                                            k do microcontrolad
                                                            or para 80MHz
   57 00000004 F7FF FFFE       BL               SysTick_Init ;Chama a subrotina
                                                             para inicializar o
                                                             SysTick
   58 00000008 F7FF FFFE       BL               GPIO_Init   ;Chama a subrotina 
                                                            que inicializa os G
                                                            PIO
   59 0000000C         
   60 0000000C F04F 0901       MOV              R9, #1      ;Tabuada atual
   61 00000010 F04F 0801       MOV              R8, #1      ;valor atual
   62 00000014 4EDB            LDR              R6, = lista_multiplicadores ;pe
                                                            gando endereço na l
                                                            ista de tabuadas 
   63 00000016 F04F 0501       MOV              R5, #1
   64 0000001A F04F 0400       MOV              R4, #2_00000000
   65 0000001E         
   66 0000001E         ZeraMemoria
   67 0000001E 2D0A            CMP              R5,#10
   68 00000020 BF1E            ITTT             NE
   69 00000022 6034            STRNE            R4, [R6]
   70 00000024 3501            ADDNE            R5, #1
   71 00000026 3601            ADDNE            R6, #1
   72 00000028 D1F9            BNE              ZeraMemoria
   73 0000002A 4ED6            LDR              R6, =lista_multiplicadores ;vol
                                                            ta pro endereço ini
                                                            cial
   74 0000002C 444E            ADD              R6, R9      ;vai para o endereç
                                                            o da tabuada atual
   75 0000002E 7837            LDRB             R7, [R6]    ;salva o valor no R
                                                            7
   76 00000030 444F            ADD              R7, R9
   77 00000032 7037            STRB             R7, [R6]
   78 00000034         
   79 00000034         
   80 00000034         
   81 00000034         
   82 00000034         
   83 00000034         MainLoop
   84 00000034         ; ****************************************
   85 00000034         ; Escrever código que lê o estado da chave, se ela estiv
                       er desativada apaga o LED
   86 00000034         ; Se estivar ativada chama a subrotina Pisca_LED



ARM Macro Assembler    Page 3 


   87 00000034         ; ****************************************
   88 00000034 E000            B                Loop
   89 00000036 E7FD            B                MainLoop
   90 00000038         
   91 00000038         
   92 00000038         
   93 00000038         Loop
   94 00000038         
   95 00000038         
   96 00000038 B500            PUSH             {LR}
   97 0000003A F7FF FFFE       BL               PortJ_Input
   98 0000003E F85D EB04       POP              {LR}
   99 00000042         
  100 00000042 2802            CMP              R0, #2
  101 00000044 B500            PUSH             {LR}
  102 00000046 BF08 F000 
              F837             BLEQ             Prox_Num_Tabuada
  103 0000004C F85D EB04       POP              {LR}
  104 00000050         
  105 00000050         
  106 00000050 2801            CMP              R0, #1
  107 00000052 B500            PUSH             {LR}
  108 00000054 BF08 F000 
              F842             BLEQ             Prox_Mult
  109 0000005A F85D EB04       POP              {LR}
  110 0000005E         
  111 0000005E         
  112 0000005E B500            PUSH             {LR}
  113 00000060 F000 F84B       BL               Acende_LED
  114 00000064 F85D EB04       POP              {LR}
  115 00000068         
  116 00000068         ; PUSH {LR}
  117 00000068         ; BL   SysTick_Wait1ms
  118 00000068         ; POP  {LR}
  119 00000068         
  120 00000068 B500            PUSH             {LR}
  121 0000006A F000 F889       BL               Apaga_LED
  122 0000006E F85D EB04       POP              {LR}
  123 00000072         
  124 00000072 B500            PUSH             {LR}
  125 00000074 F000 F893       BL               Pega_Resultado
  126 00000078 F85D EB04       POP              {LR}
  127 0000007C         
  128 0000007C B500            PUSH             {LR}
  129 0000007E F000 F898       BL               Pega_Dezena
  130 00000082 F85D EB04       POP              {LR}
  131 00000086         
  132 00000086         ; PUSH {LR}
  133 00000086         ; BL   SysTick_Wait1ms
  134 00000086         ; POP  {LR}
  135 00000086         
  136 00000086 B500            PUSH             {LR}
  137 00000088 F000 F8D8       BL               Acende_Display_Dezena
  138 0000008C F85D EB04       POP              {LR}
  139 00000090         
  140 00000090         ; PUSH {LR}
  141 00000090         ; BL   SysTick_Wait1ms
  142 00000090         ; POP  {LR}
  143 00000090         



ARM Macro Assembler    Page 4 


  144 00000090 B500            PUSH             {LR}
  145 00000092 F000 F8E7       BL               Apaga_Display_Dezena
  146 00000096 F85D EB04       POP              {LR}
  147 0000009A         
  148 0000009A         ; PUSH {LR}
  149 0000009A         ; BL   SysTick_Wait1ms
  150 0000009A         ; POP  {LR}
  151 0000009A         
  152 0000009A B500            PUSH             {LR}
  153 0000009C F000 F8F1       BL               Pega_Unidade
  154 000000A0 F85D EB04       POP              {LR}
  155 000000A4         
  156 000000A4 B500            PUSH             {LR}
  157 000000A6 F000 F94A       BL               Acende_Display_Unidade
  158 000000AA F85D EB04       POP              {LR}
  159 000000AE         
  160 000000AE B500            PUSH             {LR}
  161 000000B0 F000 F959       BL               Apaga_Display_Unidade
  162 000000B4 F85D EB04       POP              {LR}
  163 000000B8         
  164 000000B8 E7BE            B                Loop
  165 000000BA         
  166 000000BA         Prox_Num_Tabuada                     ;funcao responsavel
                                                             por atualizar o nu
                                                            mero da tabuada atu
                                                            al
  167 000000BA F109 0901       ADD              R9, #1
  168 000000BE F1B9 0F09       CMP              R9, #9
  169 000000C2 BF08            IT               EQ
  170 000000C4 F04F 0901       MOVEQ            R9, #1
  171 000000C8         
  172 000000C8 4EAE            LDR              R6, = lista_multiplicadores ;pe
                                                            gando endereço na l
                                                            ista de tabuadas
  173 000000CA 444E            ADD              R6, R9      ;vai para o endereç
                                                            o da tabuada atual 
                                                                  
  174 000000CC 7837            LDRB             R7, [R6]    ;salva o valor no R
                                                            7
  175 000000CE         
  176 000000CE F04F 00C8       MOV              R0, #200
  177 000000D2 B500            PUSH             {LR}
  178 000000D4 F7FF FFFE       BL               SysTick_Wait1ms
  179 000000D8 F85D EB04       POP              {LR}
  180 000000DC         
  181 000000DC 4770            BX               LR
  182 000000DE         
  183 000000DE         Prox_Mult                            ;funcao responsavel
                                                             por pegar o proxim
                                                            o multiplo do numer
                                                            o atual da tabuada 
                                                             
  184 000000DE         
  185 000000DE 7837            LDRB             R7, [R6]
  186 000000E0 2F09            CMP              R7, #9
  187 000000E2 BF0C            ITE              EQ
  188 000000E4 2700            MOVEQ            R7, #0
  189 000000E6 3701            ADDNE            R7, #1
  190 000000E8 7037            STRB             R7, [R6]



ARM Macro Assembler    Page 5 


  191 000000EA         
  192 000000EA F04F 00C8       MOV              R0, #200
  193 000000EE B500            PUSH             {LR}
  194 000000F0 F7FF FFFE       BL               SysTick_Wait1ms
  195 000000F4 F85D EB04       POP              {LR}
  196 000000F8         
  197 000000F8 4770            BX               LR
  198 000000FA         
  199 000000FA         Acende_LED                           ;LED 0 - A7 || LED 
                                                            4 - A4 || LED 5 - Q
                                                            3 || LED 8 - Q0
  200 000000FA         
  201 000000FA F04F 0020       MOV              R0, #2_00100000
  202 000000FE B500            PUSH{LR}
  203 00000100 F7FF FFFE       BL               PortP_Output
  204 00000104 F85D EB04       POP{LR}
  205 00000108         
  206 00000108 F1B9 0F01       CMP              R9, #1
  207 0000010C BF04            ITT              EQ
  208 0000010E 2080            MOVEQ            R0,  #2_10000000 
                                                            ; Inicialização
  209 00000110 F04F 0C00       MOVEQ            R12, #2_00000000
  210 00000114         
  211 00000114 F1B9 0F02       CMP              R9, #2
  212 00000118 BF04            ITT              EQ
  213 0000011A 20C0            MOVEQ            R0, #2_11000000 ; Porta A
  214 0000011C F04F 0C00       MOVEQ            R12,#2_00000000 ; Porta Q
  215 00000120         
  216 00000120 F1B9 0F03       CMP              R9, #3
  217 00000124 BF04            ITT              EQ
  218 00000126 20E0            MOVEQ            R0, #2_11100000 ; Porta A
  219 00000128 F04F 0C00       MOVEQ            R12,#2_00000000 ; Porta Q
  220 0000012C         
  221 0000012C F1B9 0F04       CMP              R9, #4
  222 00000130 BF04            ITT              EQ
  223 00000132 20F0            MOVEQ            R0, #2_11110000 ; Porta A
  224 00000134 F04F 0C00       MOVEQ            R12,#2_00000000 ; Porta Q
  225 00000138         
  226 00000138 F1B9 0F05       CMP              R9, #5
  227 0000013C BF04            ITT              EQ
  228 0000013E 20F0            MOVEQ            R0, #2_11110000 ; Porta A
  229 00000140 F04F 0C08       MOVEQ            R12,#2_00001000 ; Porta Q
  230 00000144         
  231 00000144 F1B9 0F06       CMP              R9, #6
  232 00000148 BF04            ITT              EQ
  233 0000014A 20F0            MOVEQ            R0, #2_11110000 ; Porta A
  234 0000014C F04F 0C0C       MOVEQ            R12,#2_00001100 ; Porta Q
  235 00000150         
  236 00000150 F1B9 0F07       CMP              R9, #7
  237 00000154 BF04            ITT              EQ
  238 00000156 20F0            MOVEQ            R0, #2_11110000 ; Porta A
  239 00000158 F04F 0C0E       MOVEQ            R12,#2_00001110 ; Porta Q
  240 0000015C         
  241 0000015C F1B9 0F08       CMP              R9, #8
  242 00000160 BF04            ITT              EQ
  243 00000162 20F0            MOVEQ            R0, #2_11110000 ; Porta A
  244 00000164 F04F 0C0F       MOVEQ            R12,#2_00001111 ; Porta Q
  245 00000168         
  246 00000168         



ARM Macro Assembler    Page 6 


  247 00000168 B500            PUSH{LR}
  248 0000016A F7FF FFFE       BL               PortA_Output
  249 0000016E F85D EB04       POP{LR}
  250 00000172         
  251 00000172 4660            MOV              R0, R12
  252 00000174         
  253 00000174 B500            PUSH{LR}
  254 00000176 F7FF FFFE       BL               PortQ_Output
  255 0000017A F85D EB04       POP{LR}
  256 0000017E         
  257 0000017E 4770            BX               LR
  258 00000180         
  259 00000180         Apaga_LED                            ;apaga os led
  260 00000180         
  261 00000180 F04F 0005       MOV              R0, #5
  262 00000184 B500            PUSH             {LR}
  263 00000186 F7FF FFFE       BL               SysTick_Wait1ms
  264 0000018A F85D EB04       POP              {LR}
  265 0000018E         
  266 0000018E F04F 0000       MOV              R0, #2_00000000 ; Porta PP, "de
                                                            sliga" o transistor
                                                             e apaga todos os l
                                                            eds
  267 00000192         
  268 00000192 B500            PUSH{LR}
  269 00000194 F7FF FFFE       BL               PortP_Output
  270 00000198 F85D EB04       POP{LR}
  271 0000019C         
  272 0000019C 4770            BX               LR
  273 0000019E         
  274 0000019E         Pega_Resultado
  275 0000019E 463D            MOV              R5, R7      ; Quantidade de vez
                                                            es que foi multipli
                                                            cado
  276 000001A0 F04F 0800       MOV              R8, #0      ; Resultado final d
                                                            a multiplicação
  277 000001A4         
  278 000001A4         Multiplicacao_Resultado
  279 000001A4 2D00            CMP              R5, #0
  280 000001A6 BF1E            ITTT             NE
  281 000001A8 44C8            ADDNE            R8, R9
  282 000001AA F105 35FF       ADDNE            R5, #-1
  283 000001AE E7F9            BNE              Multiplicacao_Resultado
  284 000001B0         
  285 000001B0 4770            BX               LR
  286 000001B2         
  287 000001B2         
  288 000001B2         Pega_Dezena                          ;PQ0 - a || PQ1 - b
                                                             || PQ2 - c || PQ3 
                                                            - d || PA4 - e || P
                                                            A5 - f || PA6 - g 
  289 000001B2         
  290 000001B2 F04F 0400       MOV              R4, #0      ; "Contador"/Valor 
                                                            da dezena
  291 000001B6 F04F 0300       MOV              R3, #2_0    ; binario do A
  292 000001BA F04F 0C00       MOV              R12, #2_0   ; binario do Q
  293 000001BE         
  294 000001BE F1B8 0F0A       CMP              R8, #10     ;Loops para saber o
                                                             valor da dezena.



ARM Macro Assembler    Page 7 


  295 000001C2 BF3E            ITTT             CC
  296 000001C4 2330            MOVCC            R3, #2_00110000 ; binario do di
                                                            splay correspondent
                                                            e a porta A
  297 000001C6 F04F 0C0F       MOVCC            R12, #2_00001111 ; binario do d
                                                            isplay corresponden
                                                            te a porta Q
  298 000001CA 4770            BXCC             LR
  299 000001CC         
  300 000001CC F1B8 0F0A       CMP              R8, #10
  301 000001D0 BF23            ITTTE            CS
  302 000001D2 3401            ADDCS            R4, #1
  303 000001D4 2300            MOVCS            R3, #2_00000000
  304 000001D6 F04F 0C06       MOVCS            R12, #2_00000110
  305 000001DA 4770            BXCC             LR
  306 000001DC         
  307 000001DC F1B8 0F14       CMP              R8, #20
  308 000001E0 BF23            ITTTE            CS
  309 000001E2 3401            ADDCS            R4, #1
  310 000001E4 2350            MOVCS            R3, #2_01010000
  311 000001E6 F04F 0C0B       MOVCS            R12, #2_00001011
  312 000001EA 4770            BXCC             LR
  313 000001EC         
  314 000001EC F1B8 0F1E       CMP              R8, #30
  315 000001F0 BF23            ITTTE            CS
  316 000001F2 3401            ADDCS            R4, #1
  317 000001F4 2340            MOVCS            R3, #2_01000000
  318 000001F6 F04F 0C0F       MOVCS            R12, #2_00001111
  319 000001FA 4770            BXCC             LR
  320 000001FC         
  321 000001FC F1B8 0F28       CMP              R8, #40
  322 00000200 BF23            ITTTE            CS
  323 00000202 3401            ADDCS            R4, #1
  324 00000204 2360            MOVCS            R3, #2_01100000
  325 00000206 F04F 0C06       MOVCS            R12, #2_00000110
  326 0000020A 4770            BXCC             LR
  327 0000020C         
  328 0000020C F1B8 0F32       CMP              R8, #50
  329 00000210 BF23            ITTTE            CS
  330 00000212 3401            ADDCS            R4, #1
  331 00000214 2360            MOVCS            R3, #2_01100000
  332 00000216 F04F 0C0D       MOVCS            R12, #2_00001101
  333 0000021A 4770            BXCC             LR
  334 0000021C         
  335 0000021C F1B8 0F3C       CMP              R8, #60
  336 00000220 BF23            ITTTE            CS
  337 00000222 3401            ADDCS            R4, #1
  338 00000224 2370            MOVCS            R3, #2_01110000
  339 00000226 F04F 0C0D       MOVCS            R12, #2_00001101
  340 0000022A 4770            BXCC             LR
  341 0000022C         
  342 0000022C F1B8 0F46       CMP              R8, #70
  343 00000230 BF23            ITTTE            CS
  344 00000232 3401            ADDCS            R4, #1
  345 00000234 2300            MOVCS            R3, #2_00000000
  346 00000236 F04F 0C07       MOVCS            R12, #2_00000111
  347 0000023A 4770            BXCC             LR
  348 0000023C         
  349 0000023C         ; CMP  R8, #80



ARM Macro Assembler    Page 8 


  350 0000023C         ; ITTTE  CC
  351 0000023C         ;  ADDCS R4, #1
  352 0000023C         ;  MOVCS R3, #2_01110000
  353 0000023C         ;  MOVCS R12, #2_00001111
  354 0000023C         ;  BXCC LR
  355 0000023C         
  356 0000023C         
  357 0000023C         
  358 0000023C         Acende_Display_Dezena                ;PQ0 - a || PQ1 - b
                                                             || PQ2 - c || PQ3 
                                                            - d || PA4 - e || P
                                                            A5 - f || PA6 - g 
  359 0000023C         
  360 0000023C F04F 0010       MOV              R0, #2_000010000 ; Porta PP, "a
                                                            cende" o transistor
                                                             e apaga todos os l
                                                            eds
  361 00000240         
  362 00000240 B500            PUSH{LR}
  363 00000242 F7FF FFFE       BL               PortB_Output
  364 00000246 F85D EB04       POP{LR}
  365 0000024A         
  366 0000024A 4618            MOV              R0, R3
  367 0000024C         
  368 0000024C B500            PUSH{LR}
  369 0000024E F7FF FFFE       BL               PortA_Output
  370 00000252 F85D EB04       POP{LR}
  371 00000256         
  372 00000256 4660            MOV              R0, R12
  373 00000258         
  374 00000258 B500            PUSH{LR}
  375 0000025A F7FF FFFE       BL               PortQ_Output
  376 0000025E F85D EB04       POP{LR}
  377 00000262         
  378 00000262 4770            BX               LR
  379 00000264         
  380 00000264         Apaga_Display_Dezena
  381 00000264         
  382 00000264 F04F 0005       MOV              R0, #5
  383 00000268 B500            PUSH             {LR}
  384 0000026A F7FF FFFE       BL               SysTick_Wait1ms
  385 0000026E F85D EB04       POP              {LR}
  386 00000272         
  387 00000272 F04F 0000       MOV              R0, #2_00000000 ; Porta PP, "de
                                                            sliga" o transistor
                                                             e apaga todos os l
                                                            eds
  388 00000276         
  389 00000276 B500            PUSH{LR}
  390 00000278 F7FF FFFE       BL               PortB_Output
  391 0000027C F85D EB04       POP{LR}
  392 00000280         
  393 00000280         ;PUSH{LR}
  394 00000280         ; BL  PortA_Output
  395 00000280         ; POP{LR}
  396 00000280         ; 
  397 00000280         ; PUSH{LR}
  398 00000280         ; BL  PortQ_Output
  399 00000280         ; POP{LR}



ARM Macro Assembler    Page 9 


  400 00000280         
  401 00000280 4770            BX               LR
  402 00000282         
  403 00000282         Pega_Unidade
  404 00000282 46C2            MOV              R10, R8     ; Valor da unidade
  405 00000284 46A3            MOV              R11,  R4    ; Aux para valor da
                                                             dezena
  406 00000286         
  407 00000286         
  408 00000286         Unidade_Resultado
  409 00000286 F1BB 0F00       CMP              R11, #0
  410 0000028A BF1E            ITTT             NE
  411 0000028C F2AA 0A0A       ADDNE            R10, #-10
  412 00000290 F10B 3BFF       ADDNE            R11, #-1
  413 00000294 E7F7            BNE              Unidade_Resultado
  414 00000296         
  415 00000296 F04F 0300       MOV              R3, #2_0    ; binario do A
  416 0000029A F04F 0C00       MOV              R12, #2_0   ; binario do Q
  417 0000029E         
  418 0000029E F1BA 0F00       CMP              R10, #0     ;Loops para saber o
                                                             valor da dezena.
  419 000002A2 BF02            ITTT             EQ
  420 000002A4 2330            MOVEQ            R3, #2_00110000 ; binario do di
                                                            splay correspondent
                                                            e a porta A
  421 000002A6 F04F 0C0F       MOVEQ            R12, #2_00001111 ; binario do d
                                                            isplay corresponden
                                                            te a porta Q
  422 000002AA 4770            BXEQ             LR
  423 000002AC         
  424 000002AC F1BA 0F01       CMP              R10, #1
  425 000002B0 BF01            ITTTT            EQ
  426 000002B2 3401            ADDEQ            R4, #1
  427 000002B4 2300            MOVEQ            R3, #2_00000000
  428 000002B6 F04F 0C06       MOVEQ            R12, #2_00000110
  429 000002BA 4770            BXEQ             LR
  430 000002BC         
  431 000002BC F1BA 0F02       CMP              R10, #2
  432 000002C0 BF01            ITTTT            EQ
  433 000002C2 3401            ADDEQ            R4, #1
  434 000002C4 2350            MOVEQ            R3, #2_01010000
  435 000002C6 F04F 0C0B       MOVEQ            R12, #2_00001011
  436 000002CA 4770            BXEQ             LR
  437 000002CC         
  438 000002CC F1BA 0F03       CMP              R10, #3
  439 000002D0 BF01            ITTTT            EQ
  440 000002D2 3401            ADDEQ            R4, #1
  441 000002D4 2340            MOVEQ            R3, #2_01000000
  442 000002D6 F04F 0C0F       MOVEQ            R12, #2_00001111
  443 000002DA 4770            BXEQ             LR
  444 000002DC         
  445 000002DC F1BA 0F04       CMP              R10, #4
  446 000002E0 BF01            ITTTT            EQ
  447 000002E2 3401            ADDEQ            R4, #1
  448 000002E4 2360            MOVEQ            R3, #2_01100000
  449 000002E6 F04F 0C06       MOVEQ            R12, #2_00000110
  450 000002EA 4770            BXEQ             LR
  451 000002EC         
  452 000002EC F1BA 0F05       CMP              R10, #5



ARM Macro Assembler    Page 10 


  453 000002F0 BF01            ITTTT            EQ
  454 000002F2 3401            ADDEQ            R4, #1
  455 000002F4 2360            MOVEQ            R3, #2_01100000
  456 000002F6 F04F 0C0D       MOVEQ            R12, #2_00001101
  457 000002FA 4770            BXEQ             LR
  458 000002FC         
  459 000002FC F1BA 0F06       CMP              R10, #6
  460 00000300 BF01            ITTTT            EQ
  461 00000302 3401            ADDEQ            R4, #1
  462 00000304 2370            MOVEQ            R3, #2_01110000
  463 00000306 F04F 0C0D       MOVEQ            R12, #2_00001101
  464 0000030A 4770            BXEQ             LR
  465 0000030C         
  466 0000030C F1BA 0F07       CMP              R10, #7
  467 00000310 BF01            ITTTT            EQ
  468 00000312 3401            ADDEQ            R4, #1
  469 00000314 2300            MOVEQ            R3, #2_00000000
  470 00000316 F04F 0C07       MOVEQ            R12, #2_00000111
  471 0000031A 4770            BXEQ             LR
  472 0000031C         
  473 0000031C F1BA 0F08       CMP              R10, #8
  474 00000320 BF01            ITTTT            EQ
  475 00000322 3401            ADDEQ            R4, #1
  476 00000324 2370            MOVEQ            R3, #2_01110000
  477 00000326 F04F 0C0F       MOVEQ            R12, #2_00001111
  478 0000032A 4770            BXEQ             LR
  479 0000032C         
  480 0000032C F1BA 0F09       CMP              R10, #9
  481 00000330 BF01            ITTTT            EQ
  482 00000332 3401            ADDEQ            R4, #1
  483 00000334 2360            MOVEQ            R3, #2_01100000
  484 00000336 F04F 0C07       MOVEQ            R12, #2_00000111
  485 0000033A 4770            BXEQ             LR
  486 0000033C         
  487 0000033C 4770            BX               LR
  488 0000033E         
  489 0000033E         Acende_Display_Unidade
  490 0000033E F04F 0020       MOV              R0, #2_000100000 ; Porta PP, "d
                                                            esliga" o transisto
                                                            r e apaga todos os 
                                                            leds
  491 00000342         
  492 00000342 B500            PUSH{LR}
  493 00000344 F7FF FFFE       BL               PortB_Output
  494 00000348 F85D EB04       POP{LR}
  495 0000034C         
  496 0000034C 4618            MOV              R0, R3
  497 0000034E         
  498 0000034E B500            PUSH{LR}
  499 00000350 F7FF FFFE       BL               PortA_Output
  500 00000354 F85D EB04       POP{LR}
  501 00000358         
  502 00000358 4660            MOV              R0, R12
  503 0000035A         
  504 0000035A B500            PUSH{LR}
  505 0000035C F7FF FFFE       BL               PortQ_Output
  506 00000360 F85D EB04       POP{LR}
  507 00000364         
  508 00000364 4770            BX               LR



ARM Macro Assembler    Page 11 


  509 00000366         
  510 00000366         Apaga_Display_Unidade
  511 00000366         
  512 00000366 F04F 0005       MOV              R0, #5
  513 0000036A B500            PUSH             {LR}
  514 0000036C F7FF FFFE       BL               SysTick_Wait1ms
  515 00000370 F85D EB04       POP              {LR}
  516 00000374         
  517 00000374 F04F 0000       MOV              R0, #2_00000000 ; Porta PP, "de
                                                            sliga" o transistor
                                                             e apaga todos os l
                                                            eds
  518 00000378         
  519 00000378 B500            PUSH{LR}
  520 0000037A F7FF FFFE       BL               PortB_Output
  521 0000037E F85D EB04       POP{LR}
  522 00000382         
  523 00000382 4770            BX               LR
  524 00000384         
  525 00000384         
  526 00000384         
  527 00000384         ;-------------------------------------------------------
                       -------------------------
  528 00000384         ; Função Pisca_LED
  529 00000384         ; Parâmetro de entrada: Não tem
  530 00000384         ; Parâmetro de saída: Não tem
  531 00000384         ;Pisca_LED
  532 00000384         ; ****************************************
  533 00000384         ; Escrever função que acende o LED, espera 1 segundo, ap
                       aga o LED e espera 1 s
  534 00000384         ; Esta função deve chamar a rotina SysTick_Wait1ms com o
                        parâmetro de entrada em R0
  535 00000384         ; ****************************************
  536 00000384         ; BL PortN_Output
  537 00000384         ; B Pisca_LED
  538 00000384         
  539 00000384         ; ------------------------------------------------------
                       --------------------------------------------------------
                       -----------
  540 00000384         ; Fim do Arquivo
  541 00000384         ; ------------------------------------------------------
                       --------------------------------------------------------
                       ----------- 
  542 00000384                 ALIGN                        ;Garante que o fim 
                                                            da seção está alinh
                                                            ada 
  543 00000384                 END                          ;Fim do arquivo
              20000400 
Command Line: --debug --xref --diag_suppress=9931,A1950W --cpu=Cortex-M4.fp.sp 
--depend=.\objects\main.d -o.\objects\main.o -ID:\Users\pedro\AppData\Local\Arm
\Packs\Keil\TM4C_DFP\1.1.0\Device\Include\TM4C129 --predefine="__EVAL SETA 1" -
-predefine="__UVISION_VERSION SETA 538" --predefine="TM4C1294NCPDT SETA 1" --li
st=.\listings\main.lst main.s



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

DATA 00000000

Symbol: DATA
   Definitions
      At line 21 in file main.s
   Uses
      None
Comment: DATA unused
1 symbol



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

.text 00000000

Symbol: .text
   Definitions
      At line 32 in file main.s
   Uses
      None
Comment: .text unused
Acende_Display_Dezena 0000023C

Symbol: Acende_Display_Dezena
   Definitions
      At line 358 in file main.s
   Uses
      At line 137 in file main.s
Comment: Acende_Display_Dezena used once
Acende_Display_Unidade 0000033E

Symbol: Acende_Display_Unidade
   Definitions
      At line 489 in file main.s
   Uses
      At line 157 in file main.s
Comment: Acende_Display_Unidade used once
Acende_LED 000000FA

Symbol: Acende_LED
   Definitions
      At line 199 in file main.s
   Uses
      At line 113 in file main.s
Comment: Acende_LED used once
Apaga_Display_Dezena 00000264

Symbol: Apaga_Display_Dezena
   Definitions
      At line 380 in file main.s
   Uses
      At line 145 in file main.s
Comment: Apaga_Display_Dezena used once
Apaga_Display_Unidade 00000366

Symbol: Apaga_Display_Unidade
   Definitions
      At line 510 in file main.s
   Uses
      At line 161 in file main.s
Comment: Apaga_Display_Unidade used once
Apaga_LED 00000180

Symbol: Apaga_LED
   Definitions
      At line 259 in file main.s
   Uses
      At line 121 in file main.s
Comment: Apaga_LED used once
Loop 00000038

Symbol: Loop



ARM Macro Assembler    Page 2 Alphabetic symbol ordering
Relocatable symbols

   Definitions
      At line 93 in file main.s
   Uses
      At line 88 in file main.s
      At line 164 in file main.s

MainLoop 00000034

Symbol: MainLoop
   Definitions
      At line 83 in file main.s
   Uses
      At line 89 in file main.s
Comment: MainLoop used once
Multiplicacao_Resultado 000001A4

Symbol: Multiplicacao_Resultado
   Definitions
      At line 278 in file main.s
   Uses
      At line 283 in file main.s
Comment: Multiplicacao_Resultado used once
Pega_Dezena 000001B2

Symbol: Pega_Dezena
   Definitions
      At line 288 in file main.s
   Uses
      At line 129 in file main.s
Comment: Pega_Dezena used once
Pega_Resultado 0000019E

Symbol: Pega_Resultado
   Definitions
      At line 274 in file main.s
   Uses
      At line 125 in file main.s
Comment: Pega_Resultado used once
Pega_Unidade 00000282

Symbol: Pega_Unidade
   Definitions
      At line 403 in file main.s
   Uses
      At line 153 in file main.s
Comment: Pega_Unidade used once
Prox_Mult 000000DE

Symbol: Prox_Mult
   Definitions
      At line 183 in file main.s
   Uses
      At line 108 in file main.s
Comment: Prox_Mult used once
Prox_Num_Tabuada 000000BA

Symbol: Prox_Num_Tabuada
   Definitions
      At line 166 in file main.s



ARM Macro Assembler    Page 3 Alphabetic symbol ordering
Relocatable symbols

   Uses
      At line 102 in file main.s
Comment: Prox_Num_Tabuada used once
Start 00000000

Symbol: Start
   Definitions
      At line 55 in file main.s
   Uses
      At line 35 in file main.s
Comment: Start used once
Unidade_Resultado 00000286

Symbol: Unidade_Resultado
   Definitions
      At line 408 in file main.s
   Uses
      At line 413 in file main.s
Comment: Unidade_Resultado used once
ZeraMemoria 0000001E

Symbol: ZeraMemoria
   Definitions
      At line 66 in file main.s
   Uses
      At line 72 in file main.s
Comment: ZeraMemoria used once
18 symbols



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Absolute symbols

lista_multiplicadores 20000400

Symbol: lista_multiplicadores
   Definitions
      At line 51 in file main.s
   Uses
      At line 62 in file main.s
      At line 73 in file main.s
      At line 172 in file main.s

1 symbol



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
External symbols

GPIO_Init 00000000

Symbol: GPIO_Init
   Definitions
      At line 44 in file main.s
   Uses
      At line 58 in file main.s
Comment: GPIO_Init used once
PLL_Init 00000000

Symbol: PLL_Init
   Definitions
      At line 41 in file main.s
   Uses
      At line 56 in file main.s
Comment: PLL_Init used once
PortA_Output 00000000

Symbol: PortA_Output
   Definitions
      At line 45 in file main.s
   Uses
      At line 248 in file main.s
      At line 369 in file main.s
      At line 499 in file main.s

PortB_Output 00000000

Symbol: PortB_Output
   Definitions
      At line 46 in file main.s
   Uses
      At line 363 in file main.s
      At line 390 in file main.s
      At line 493 in file main.s
      At line 520 in file main.s

PortJ_Input 00000000

Symbol: PortJ_Input
   Definitions
      At line 49 in file main.s
   Uses
      At line 97 in file main.s
Comment: PortJ_Input used once
PortP_Output 00000000

Symbol: PortP_Output
   Definitions
      At line 47 in file main.s
   Uses
      At line 203 in file main.s
      At line 269 in file main.s

PortQ_Output 00000000

Symbol: PortQ_Output
   Definitions
      At line 48 in file main.s



ARM Macro Assembler    Page 2 Alphabetic symbol ordering
External symbols

   Uses
      At line 254 in file main.s
      At line 375 in file main.s
      At line 505 in file main.s

SysTick_Init 00000000

Symbol: SysTick_Init
   Definitions
      At line 42 in file main.s
   Uses
      At line 57 in file main.s
Comment: SysTick_Init used once
SysTick_Wait1ms 00000000

Symbol: SysTick_Wait1ms
   Definitions
      At line 43 in file main.s
   Uses
      At line 178 in file main.s
      At line 194 in file main.s
      At line 263 in file main.s
      At line 384 in file main.s
      At line 514 in file main.s

9 symbols
365 symbols in table
